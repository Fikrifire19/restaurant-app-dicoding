!(function (n) { function r(r) { for (var t, o, s = r[0], u = r[1], c = r[2], d = 0, l = []; d < s.length; d++)o = s[d], Object.prototype.hasOwnProperty.call(a, o) && a[o] && l.push(a[o][0]), a[o] = 0; for (t in u)Object.prototype.hasOwnProperty.call(u, t) && (n[t] = u[t]); for (p && p(r); l.length;)l.shift()(); return i.push.apply(i, c || []), e(); } function e() { for (var n, r = 0; r < i.length; r++) { for (var e = i[r], t = !0, s = 1; s < e.length; s++) { const u = e[s]; a[u] !== 0 && (t = !1); }t && (i.splice(r--, 1), n = o(o.s = e[0])); } return n; } const t = {}; var a = { 0: 0 }; var i = []; function o(r) { if (t[r]) return t[r].exports; const e = t[r] = { i: r, l: !1, exports: {} }; return n[r].call(e.exports, e, e.exports, o), e.l = !0, e.exports; }o.m = n, o.c = t, o.d = function (n, r, e) { o.o(n, r) || Object.defineProperty(n, r, { enumerable: !0, get: e }); }, o.r = function (n) { typeof Symbol !== 'undefined' && Symbol.toStringTag && Object.defineProperty(n, Symbol.toStringTag, { value: 'Module' }), Object.defineProperty(n, '__esModule', { value: !0 }); }, o.t = function (n, r) { if (1 & r && (n = o(n)), 8 & r) return n; if (4 & r && typeof n === 'object' && n && n.__esModule) return n; const e = Object.create(null); if (o.r(e), Object.defineProperty(e, 'default', { enumerable: !0, value: n }), 2 & r && typeof n !== 'string') for (const t in n)o.d(e, t, ((r) => n[r]).bind(null, t)); return e; }, o.n = function (n) { const r = n && n.__esModule ? function () { return n.default; } : function () { return n; }; return o.d(r, 'a', r), r; }, o.o = function (n, r) { return Object.prototype.hasOwnProperty.call(n, r); }, o.p = ''; let s = window.webpackJsonp = window.webpackJsonp || []; const u = s.push.bind(s); s.push = r, s = s.slice(); for (let c = 0; c < s.length; c++)r(s[c]); var p = u; i.push([12, 2, 1]), e(); }([,,,,,,, function (n, r, e) { const t = e(3); let a = e(8); typeof (a = a.__esModule ? a.default : a) === 'string' && (a = [[n.i, a, '']]); const i = { insert: 'head', singleton: !1 }; t(a, i); n.exports = a.locals || {}; }, function (n, r, e) {
  e.r(r); const t = e(0); const a = e.n(t)()(((n) => n[1])); a.push([n.i, "* {\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n   \r\n  body {\r\n    font-family: 'Poppins', sans-serif;\r\n    background-color: white;\r\n    min-height: 100vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n   \r\n  /*\r\n    Skip Content\r\n  */\r\n    \r\n  .skip-link {\r\n    position: absolute;\r\n    top: -40px;\r\n    left: 0;\r\n    background-color: #bf1722;\r\n    color: white;\r\n    padding: 8px;\r\n    z-index: 100;\r\n  }\r\n\r\n  .skip-link:focus {\r\n    top: 0;\r\n  }\r\n\r\n  /*\r\n    AppBar\r\n  */\r\n   \r\n  .app-bar {\r\n    padding: 8px 16px;\r\n    background-color: white;\r\n    display: grid;\r\n    grid-template-columns: auto 1fr auto;\r\n    gap: 10px;\r\n    position: sticky;\r\n    top: 0;\r\n    z-index: 99;\r\n    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);\r\n  }\r\n   \r\n  .app-bar .app-bar-menu {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n   \r\n  .app-bar .app-bar-menu button {\r\n    background-color: transparent;\r\n    min-height: 44px;\r\n    border: none;\r\n    font-size: 18px;\r\n    padding: 8px;\r\n    cursor: pointer;\r\n  }\r\n   \r\n  .app-bar .app-bar-brand {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n   \r\n  .app-bar .app-bar-brand h1 {\r\n    color: #db0000;\r\n    text-transform: uppercase;\r\n    font-size: 22px;\r\n    user-select: none;\r\n  }\r\n   \r\n  .app-bar .app-bar-navigation {\r\n    position: absolute;\r\n    top: 50px;\r\n    left: -180px;\r\n    width: 150px;\r\n    transition: all 0.3s;\r\n    padding: 8px;\r\n    background-color: white;\r\n    overflow: hidden;\r\n  }\r\n   \r\n  .app-bar .app-bar-navigation.open {\r\n    left: 0;\r\n  }\r\n   \r\n  .app-bar .app-bar-navigation ul li a {\r\n    display: inline-block;\r\n    text-decoration: none;\r\n    color: black;\r\n    padding: 8px;\r\n    margin-bottom: 5px;\r\n    min-height: 44px;\r\n    width: 100%;\r\n  }\r\n   \r\n  /*\r\n    Main Content\r\n  */\r\n   \r\n  main {\r\n    padding: 32px;\r\n    flex: 1;\r\n  }\r\n   \r\n  .content {\r\n    margin: 0 auto;\r\n    min-height: 100%;\r\n  }\r\n   \r\n  .content .content-heading {\r\n    font-weight: normal;\r\n    text-align-last: center;\r\n  }\r\n   \r\n  .hero {\r\n    position: relative;\r\n    align-items: center;\r\n    text-align: center;\r\n    margin-bottom: 2em;   \r\n  }\r\n\r\n  .hero-image {\r\n    width: 100%;\r\n  }\r\n  \r\n\r\n  .hero_inner {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    margin: 0 auto;\r\n    max-width: 800px;\r\n    text-align: center;\r\n  }\r\n\r\n  .hero_title {\r\n      color: red;\r\n      font-weight: 800;\r\n      font-size: 36px;\r\n  }\r\n\r\n  .hero_tagline {\r\n      color: red;\r\n      margin-top: 16px;\r\n      font-size: 18px;\r\n      font-weight: 700;\r\n  } \r\n\r\n  /*\r\n    Restaurants\r\n  */\r\n   \r\n  .restaurants {\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    gap: 16px;\r\n    margin: 32px 0;\r\n  }\r\n   \r\n   \r\n  /*\r\n    Restaurant Item\r\n  */\r\n   \r\n  .restaurant-item {\r\n    width: 100%;\r\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\r\n    border-radius: 8px;\r\n    overflow: hidden;\r\n  }\r\n   \r\n  .restaurant-item-header {\r\n    position: relative;\r\n  }\r\n   \r\n  .restaurant-item .restaurant-item-header .restaurant-item-header-poster {\r\n    width: 100%;\r\n  }\r\n   \r\n  .restaurant-item .restaurant-item-header .restaurant-item-header-city {\r\n    position: absolute;\r\n    padding: 8px;\r\n    bottom: 20px;\r\n    left: 0;\r\n    display: inline-block;\r\n    background-color: black;\r\n    color: white;\r\n  }\r\n   \r\n  .restaurant-item .restaurant-item-content {\r\n    padding: 16px;\r\n  }\r\n   \r\n  .restaurant-item .restaurant-item-content h3 {\r\n    margin: 0 0 10px 0;\r\n  }\r\n   \r\n  .restaurant-item .restaurant-item-content h3 a {\r\n    color: #db0000;\r\n    text-decoration: none;\r\n  }\r\n   \r\n  .restaurant-item .restaurant-item-content p {\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    margin-bottom: 15px;\r\n    display: -webkit-box;\r\n    -webkit-line-clamp: 4; /* number of lines to show */\r\n    -webkit-box-orient: vertical;\r\n  }\r\n   \r\n  .restaurant-item .restaurant-item-content p .restaurant-item-content-rating-score {\r\n    margin-left: 10px;\r\n  }\r\n\r\n  .restaurant-item .restaurant-item-content .restaurant-item-content-button {\r\n    background: orange;\r\n    border: none;\r\n    border-radius: 12px;\r\n    margin-top: 10px;\r\n    padding: 18px;\r\n    min-height: 44px;\r\n  }\r\n  .restaurant-item .restaurant-item-content .restaurant-item-content-button a {\r\n    text-decoration: none;\r\n    padding: 16px;\r\n    min-height: 44px;\r\n    font-stretch: extra-expanded;\r\n    color: white;\r\n    cursor: pointer;\r\n  }\r\n   \r\n  /*\r\n    Restaurant\r\n  */\r\n   \r\n  .restaurant {\r\n    margin: 0 auto;\r\n    width: 100%;\r\n    max-width: 800px;\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    gap: 18px 16px;\r\n  }\r\n   \r\n  .restaurant .restaurant-poster {\r\n    width: 100%;\r\n    max-width: 400px;\r\n  }\r\n   \r\n  .restaurant .restaurant-info h4 {\r\n    margin: 8px 0;\r\n  }\r\n   \r\n  .restaurant .restaurant-overview h3 {\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .restaurant .restaurant-overview h4 {\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .restaurant .restaurant-overview p {\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .restaurant .restaurant-overview .reviews {\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    gap: 16px;\r\n    margin: 32px 0;\r\n  }\r\n  \r\n  .restaurant .restaurant-overview .reviews .review {\r\n    width: 100%;\r\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\r\n    border-radius: 8px;\r\n    overflow: hidden;\r\n    padding: 8px;\r\n  }\r\n\r\n  .restaurant .restaurant-overview .reviews .review .review-name {\r\n    font-size: 18px;\r\n    font-weight: 600;\r\n  }\r\n\r\n  .restaurant .restaurant-overview .reviews .review .review-date {\r\n    font-size: 12px;\r\n  }\r\n   \r\n  /*\r\n    Footer\r\n  */\r\n   \r\n  footer {\r\n    padding: 16px;\r\n  }\r\n   \r\n  footer p {\r\n    text-align: center;\r\n    color: #aaaaaa;\r\n  }\r\n   \r\n  footer p a {\r\n    color: #db0000;\r\n    text-decoration: none;\r\n  }\r\n\r\n  /*\r\n   Like\r\n  */\r\n  .like {\r\n    font-size: 18px;\r\n    position: fixed;\r\n    bottom: 16px;\r\n    right: 16px;\r\n    background-color: #db0000;\r\n    color: white;\r\n    border: 0;\r\n    border-radius: 50%;\r\n    width: 55px;\r\n    height: 55px;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }", '']), r.default = a;
}, function (n, r, e) { const t = e(3); let a = e(10); typeof (a = a.__esModule ? a.default : a) === 'string' && (a = [[n.i, a, '']]); const i = { insert: 'head', singleton: !1 }; t(a, i); n.exports = a.locals || {}; }, function (n, r, e) {
  e.r(r); const t = e(0); const a = e.n(t)()(((n) => n[1])); a.push([n.i, '@media screen and (min-width: 650px) {\r\n    .app-bar {\r\n        grid-template-columns: 1fr auto;\r\n        padding: 8px 32px;\r\n    }\r\n   \r\n    .app-bar .app-bar-brand h1 {\r\n        font-size: 1.5em;\r\n    }\r\n   \r\n    .app-bar .app-bar-menu {\r\n        display: none;\r\n    }\r\n   \r\n    .app-bar .app-bar-navigation {\r\n        position: static;\r\n        width: 100%;\r\n    }\r\n   \r\n    .app-bar .app-bar-navigation ul li {\r\n        display: inline-block;\r\n    }\r\n   \r\n    .app-bar .app-bar-navigation ul li a {\r\n        display: inline-block;\r\n        width: 120px;\r\n        text-align: center;\r\n        margin: 0;\r\n        min-height: 44px;\r\n    }\r\n   \r\n    .restaurants {\r\n        grid-template-columns: 1fr 1fr;\r\n    }\r\n   \r\n    .restaurant {\r\n        grid-template-columns: auto 1fr;\r\n    }\r\n   \r\n    .restaurant .restaurant-title {\r\n        grid-column-start: 1;\r\n        grid-column-end: 3;\r\n    }\r\n   \r\n    .restaurant .restaurant-overview {\r\n        grid-column-start: 1;\r\n        grid-column-end: 3;\r\n    }\r\n\r\n    .restaurant .restaurant-overview .reviews {\r\n        grid-column-start: 1;\r\n        grid-column-end: 3;\r\n    }\r\n  }\r\n   \r\n  @media screen and (min-width: 800px) {\r\n    .app-bar .app-bar-brand h1 {\r\n        font-size: 2em;\r\n    }\r\n  }\r\n   \r\n  @media screen and (min-width: 850px) {\r\n    .restaurants {\r\n        grid-template-columns: repeat(3, 1fr);\r\n    }\r\n  }\r\n   \r\n  @media screen and (min-width: 1200px) {\r\n    .restaurants {\r\n        grid-template-columns: repeat(4, 1fr);\r\n    }\r\n  }\r\n   \r\n  @media screen and (min-width: 1600px) {\r\n    .restaurants {\r\n        grid-template-columns: repeat(5, 1fr);\r\n    }\r\n  }', '']), r.default = a;
},, function (n, r, e) {
    e.r(r); e(6), e(7), e(9), e(2), e(11); const t = { init(n) { const r = this; const e = n.button; const t = n.drawer; const a = n.content; e.addEventListener('click', ((n) => { r._toggleDrawer(n, t); })), a.addEventListener('click', ((n) => { r._closeDrawer(n, t); })); }, _toggleDrawer(n, r) { n.stopPropagation(), r.classList.toggle('open'); }, _closerDrawer(n, r) { n.stopPopagation(), r.classList.remove('open'); } }; const a = {
      parseActiveUrlWithCombiner() { const n = window.location.hash.slice(1).toLowerCase(); const r = this._urlSplitter(n); return this._urlCombiner(r); }, parseActiveUrlWithoutCombiner() { const n = window.location.hash.slice(1).toLowerCase(); return this._urlSplitter(n); }, _urlSplitter(n) { const r = n.split('/'); return { resource: r[1] || null, id: r[2] || null, verb: r[3] || null }; }, _urlCombiner(n) { return (n.resource ? '/'.concat(n.resource) : '/') + (n.id ? '/id' : '') + (n.verb ? '/'.concat(n.verb) : ''); },
    }; const i = {
      KEY: '12345', BASE_URL: 'https://restaurant-api.dicoding.dev/', CACHE_NAME: (new Date()).toISOString, DATABASE_NAME: 'restaurant-list-database', DATABASE_VERSION: 1, OBJECT_STORE_NAME: 'restaurants', WEB_SOCKET_SERVER: 'wss://stormy-badlands-06326.herokuapp.com',
    }; const o = { RESTAURANTS_LIST: ''.concat(i.BASE_URL, 'list'), DETAIL(n) { return ''.concat(i.BASE_URL, 'detail/').concat(n); } }; function s(n, r, e, t, a, i, o) { try { var s = n[i](o); var u = s.value; } catch (n) { return void e(n); }s.done ? r(u) : Promise.resolve(u).then(t, a); } function u(n) { return function () { const r = this; const e = arguments; return new Promise(((t, a) => { const i = n.apply(r, e); function o(n) { s(i, t, a, o, u, 'next', n); } function u(n) { s(i, t, a, o, u, 'throw', n); }o(void 0); })); }; } function c(n, r) { for (let e = 0; e < r.length; e++) { const t = r[e]; t.enumerable = t.enumerable || !1, t.configurable = !0, 'value' in t && (t.writable = !0), Object.defineProperty(n, t.key, t); } } const p = (function () { function n() { !(function (n, r) { if (!(n instanceof r)) throw new TypeError('Cannot call a class as a function'); }(this, n)); } let r; let e; let t; let a; let i; return r = n, e = null, t = [{ key: 'restaurantsList', value: (i = u(regeneratorRuntime.mark((function n() { let r; let e; return regeneratorRuntime.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: return n.next = 2, fetch(o.RESTAURANTS_LIST); case 2: return r = n.sent, n.next = 5, r.json(); case 5: return e = n.sent, n.abrupt('return', e.restaurants); case 7: case 'end': return n.stop(); } }), n); }))), function () { return i.apply(this, arguments); }) }, { key: 'detailRestaurant', value: (a = u(regeneratorRuntime.mark((function n(r) { let e; let t; return regeneratorRuntime.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: return n.next = 2, fetch(o.DETAIL(r)); case 2: return e = n.sent, n.next = 5, e.json(); case 5: return t = n.sent, n.abrupt('return', t.restaurant); case 7: case 'end': return n.stop(); } }), n); }))), function (n) { return a.apply(this, arguments); }) }], e && c(r.prototype, e), t && c(r, t), n; }()); const d = function (n) {
      return '\n<h2 class="restaurant-title">'.concat(n.name, '</h2>\n<picture>\n  <source class="restaurant-poster lazyload" media="(max-width: 600px)" srcset="https://restaurant-api.dicoding.dev/images/small/').concat(n.pictureId, '" type="image/jpeg">\n  <img class="restaurant-poster lazyload" src="https://restaurant-api.dicoding.dev/images/medium/').concat(n.pictureId, '" alt="').concat(n.name, '" />\n</picture>\n<div class="restaurant-info">\n<h3>Information</h3>\n  <h4>Kota</h4>\n  <p>')
        .concat(n.city, '</p>\n  <h4>Alamat</h4>\n  <p>')
        .concat(n.address, '</p>\n  <h4>Rating</h4>\n  <p>⭐️<span>')
        .concat(n.rating, '</span></p>\n</div>\n<div class="restaurant-overview">\n  <h3>OverView</h3>\n  <h4>Description</h4>\n  <p>')
        .concat(n.description, '</p>\n  <p class="menu-category">Menu Category : ')
        .concat(n.categories.map(((n) => n.name)), '</p>\n  <p class="foods-menu">Foods Menu : ')
        .concat(n.menus.foods.map(((n) => n.name)), '</p>\n  <p class="drinks-menu">Drinks Menu : ')
        .concat(n.menus.drinks.map(((n) => n.name)), '</p>\n  <h4>Reviews</h4>\n  <div id="reviews" class="reviews">\n    ')
        .concat(n.customerReviews.map(((n) => '\n      <div class="review">\n        <p class="review-name">'.concat(n.name, '</p>\n        <p class="review-content">').concat(n.review, '</p>\n        <p class="review-date">').concat(n.date, '</p>\n      </div>\n    '))), '\n  </div>\n</div>\n');
    }; const l = function (n) {
      return '\n    <div class="restaurant-item">\n    <div class="restaurant-item-header">\n        <picture>\n          <source class="restaurant-item-header-poster lazyload" media="(max-width: 600px)" srcset="https://restaurant-api.dicoding.dev/images/small/'.concat(n.pictureId, '" type="image/jpeg">\n          <img class="restaurant-item-header-poster lazyload" alt="').concat(n.name, '" src="https://restaurant-api.dicoding.dev/images/small/').concat(n.pictureId, '">\n        </picture>\n        <div class="restaurant-item-header-city">\n            <p>').concat(n.city, '</p>\n        </div>\n    </div>\n    <div class="restaurant-item-content">\n        <h3>')
        .concat(n.name, '</h3>\n        <p>⭐️<span class="restaurant-item-content-rating-score">')
        .concat(n.rating, '</span></p>\n        <p>')
        .concat(n.description, '</p>\n        <button class="restaurant-item-content-button"><a href="', '/#/detail/'.concat(n.id), '">Detail Restaurant</a>  </button>\n    </div>\n    </div>\n');
    }; function f(n, r, e, t, a, i, o) { try { var s = n[i](o); var u = s.value; } catch (n) { return void e(n); }s.done ? r(u) : Promise.resolve(u).then(t, a); } function m(n) { return function () { const r = this; const e = arguments; return new Promise(((t, a) => { const i = n.apply(r, e); function o(n) { f(i, t, a, o, s, 'next', n); } function s(n) { f(i, t, a, o, s, 'throw', n); }o(void 0); })); }; } const h = { render() { return m(regeneratorRuntime.mark((function n() { return regeneratorRuntime.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: return n.abrupt('return', '\n        <div class="hero">\n            <picture>\n              <source class="hero-image lazyload" media="(max-width: 600px)" srcset="/images/heros/hero-image-2-small.jpg" type="image/jpeg">\n              <img class="hero-image lazyload" src="/images/heros/hero-image-2-large.jpg" alt="hero-image" />\n            </picture>\n            <div class="hero-inner">\n                <h1 class="hero_title">Anda Lapar?</h1>\n                <p class="hero_tagline">Ingat! Semua Orang Berhak Makan Enak!</p>\n            </div>\n        </div>\n        <section id="content" class="content">\n            <h1 class="content-heading">Explore Restaurant</h1>\n            <div id="restaurants" class="restaurants"></div>\n        </section>\n        '); case 1: case 'end': return n.stop(); } }), n); })))(); }, afterRender() { return m(regeneratorRuntime.mark((function n() { let r; let e; return regeneratorRuntime.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: return n.next = 2, p.restaurantsList(); case 2: r = n.sent, e = document.querySelector('#restaurants'), r.forEach(((n) => { e.innerHTML += l(n); })); case 5: case 'end': return n.stop(); } }), n); })))(); } }; const v = e(5); function g(n, r, e, t, a, i, o) { try { var s = n[i](o); var u = s.value; } catch (n) { return void e(n); }s.done ? r(u) : Promise.resolve(u).then(t, a); } function w(n) { return function () { const r = this; const e = arguments; return new Promise(((t, a) => { const i = n.apply(r, e); function o(n) { g(i, t, a, o, s, 'next', n); } function s(n) { g(i, t, a, o, s, 'throw', n); }o(void 0); })); }; } const x = i.DATABASE_NAME; const b = i.DATABASE_VERSION; const y = i.OBJECT_STORE_NAME; const k = Object(v.a)(x, b, { upgrade(n) { n.createObjectStore(y, { keyPath: 'id' }); } }); const R = {
      getRestaurant(n) { return w(regeneratorRuntime.mark((function r() { return regeneratorRuntime.wrap(((r) => { for (;;) switch (r.prev = r.next) { case 0: return r.next = 2, k; case 2: return r.abrupt('return', r.sent.get(y, n)); case 3: case 'end': return r.stop(); } }), r); })))(); }, getAllRestaurants() { return w(regeneratorRuntime.mark((function n() { return regeneratorRuntime.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: return n.next = 2, k; case 2: return n.abrupt('return', n.sent.getAll(y)); case 3: case 'end': return n.stop(); } }), n); })))(); }, putRestaurant(n) { return w(regeneratorRuntime.mark((function r() { return regeneratorRuntime.wrap(((r) => { for (;;) switch (r.prev = r.next) { case 0: return r.next = 2, k; case 2: return r.abrupt('return', r.sent.put(y, n)); case 3: case 'end': return r.stop(); } }), r); })))(); }, deleteRestaurant(n) { return w(regeneratorRuntime.mark((function r() { return regeneratorRuntime.wrap(((r) => { for (;;) switch (r.prev = r.next) { case 0: return r.next = 2, k; case 2: return r.abrupt('return', r.sent.delete(y, n)); case 3: case 'end': return r.stop(); } }), r); })))(); },
    }; function _(n, r, e, t, a, i, o) { try { var s = n[i](o); var u = s.value; } catch (n) { return void e(n); }s.done ? r(u) : Promise.resolve(u).then(t, a); } function S(n) { return function () { const r = this; const e = arguments; return new Promise(((t, a) => { const i = n.apply(r, e); function o(n) { _(i, t, a, o, s, 'next', n); } function s(n) { _(i, t, a, o, s, 'throw', n); }o(void 0); })); }; } function E(n, r, e, t, a, i, o) { try { var s = n[i](o); var u = s.value; } catch (n) { return void e(n); }s.done ? r(u) : Promise.resolve(u).then(t, a); } function A(n) { return function () { const r = this; const e = arguments; return new Promise(((t, a) => { const i = n.apply(r, e); function o(n) { E(i, t, a, o, s, 'next', n); } function s(n) { E(i, t, a, o, s, 'throw', n); }o(void 0); })); }; } const P = {
      init(n) { const r = this; return A(regeneratorRuntime.mark((function e() { let t; let a; return regeneratorRuntime.wrap(((e) => { for (;;) switch (e.prev = e.next) { case 0: return t = n.likeButtonContainer, a = n.restaurant, r._likeButtonContainer = t, r._restaurant = a, e.next = 5, r._renderButton(); case 5: case 'end': return e.stop(); } }), e); })))(); }, _renderButton() { const n = this; return A(regeneratorRuntime.mark((function r() { let e; return regeneratorRuntime.wrap(((r) => { for (;;) switch (r.prev = r.next) { case 0: return e = n._restaurant.id, r.next = 3, n._isrestaurantExist(e); case 3: if (!r.sent) { r.next = 7; break; }n._renderLiked(), r.next = 8; break; case 7: n._renderLike(); case 8: case 'end': return r.stop(); } }), r); })))(); }, _isrestaurantExist(n) { return A(regeneratorRuntime.mark((function r() { let e; return regeneratorRuntime.wrap(((r) => { for (;;) switch (r.prev = r.next) { case 0: return r.next = 2, R.getRestaurant(n); case 2: return e = r.sent, r.abrupt('return', !!e); case 4: case 'end': return r.stop(); } }), r); })))(); }, _renderLike() { const n = this; this._likeButtonContainer.innerHTML = '\n  <button aria-label="like this restaurant" id="likeButton" class="like">\n     <i class="fa fa-heart-o" aria-hidden="true"></i>\n  </button>\n  ', document.querySelector('#likeButton').addEventListener('click', A(regeneratorRuntime.mark((function r() { return regeneratorRuntime.wrap(((r) => { for (;;) switch (r.prev = r.next) { case 0: return r.next = 2, R.putRestaurant(n._restaurant); case 2: n._renderButton(); case 3: case 'end': return r.stop(); } }), r); })))); }, _renderLiked() { const n = this; this._likeButtonContainer.innerHTML = '\n  <button aria-label="unlike this restaurant" id="likeButton" class="like">\n    <i class="fa fa-heart" aria-hidden="true"></i>\n  </button>\n  ', document.querySelector('#likeButton').addEventListener('click', A(regeneratorRuntime.mark((function r() { return regeneratorRuntime.wrap(((r) => { for (;;) switch (r.prev = r.next) { case 0: return r.next = 2, R.deleteRestaurant(n._restaurant.id); case 2: n._renderButton(); case 3: case 'end': return r.stop(); } }), r); })))); },
    }; function L(n, r, e, t, a, i, o) { try { var s = n[i](o); var u = s.value; } catch (n) { return void e(n); }s.done ? r(u) : Promise.resolve(u).then(t, a); } function B(n) { return function () { const r = this; const e = arguments; return new Promise(((t, a) => { const i = n.apply(r, e); function o(n) { L(i, t, a, o, s, 'next', n); } function s(n) { L(i, t, a, o, s, 'throw', n); }o(void 0); })); }; } const T = { '/': h, '/favorite': { render() { return S(regeneratorRuntime.mark((function n() { return regeneratorRuntime.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: return n.abrupt('return', '\n        <section id="content" class="content">\n            <h1 class="content-heading">Favorite Restaurant</h1>\n            <div id="restaurants" class="restaurants"></div>\n        </section>\n        '); case 1: case 'end': return n.stop(); } }), n); })))(); }, afterRender() { return S(regeneratorRuntime.mark((function n() { let r; let e; return regeneratorRuntime.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: return n.next = 2, R.getAllRestaurants(); case 2: r = n.sent, console.log(r), e = document.querySelector('#restaurants'), r.forEach(((n) => { e.innerHTML += l(n); })); case 6: case 'end': return n.stop(); } }), n); })))(); } }, '/detail/id': { render() { return B(regeneratorRuntime.mark((function n() { return regeneratorRuntime.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: return n.abrupt('return', '\n        <div id="restaurant" class="restaurant"></div>\n        <div id="likeButtonContainer"></div>\n    '); case 1: case 'end': return n.stop(); } }), n); })))(); }, afterRender() { return B(regeneratorRuntime.mark((function n() { let r; let e; return regeneratorRuntime.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: return r = a.parseActiveUrlWithoutCombiner(), n.next = 3, p.detailRestaurant(r.id); case 3: e = n.sent, document.querySelector('#restaurant').innerHTML = d(e), P.init({ likeButtonContainer: document.querySelector('#likeButtonContainer'), restaurant: e }); case 7: case 'end': return n.stop(); } }), n); })))(); } } }; function C(n, r, e, t, a, i, o) { try { var s = n[i](o); var u = s.value; } catch (n) { return void e(n); }s.done ? r(u) : Promise.resolve(u).then(t, a); } function O(n, r) { for (let e = 0; e < r.length; e++) { const t = r[e]; t.enumerable = t.enumerable || !1, t.configurable = !0, 'value' in t && (t.writable = !0), Object.defineProperty(n, t.key, t); } } const M = (function () { function n(r) { const e = r.button; const t = r.drawer; const a = r.content; !(function (n, r) { if (!(n instanceof r)) throw new TypeError('Cannot call a class as a function'); }(this, n)), this._button = e, this._drawer = t, this._content = a, this._initialAppShell(); } let r; let e; let i; let o; let s; return r = n, (e = [{ key: '_initialAppShell', value() { t.init({ button: this._button, drawer: this._drawer, content: this._content }); } }, { key: 'renderPage', value: (o = regeneratorRuntime.mark((function n() { let r; let e; return regeneratorRuntime.wrap((function (n) { for (;;) switch (n.prev = n.next) { case 0: return r = a.parseActiveUrlWithCombiner(), e = T[r], n.next = 4, e.render(); case 4: return this._content.innerHTML = n.sent, n.next = 7, e.afterRender(); case 7: case 'end': return n.stop(); } }), n, this); })), s = function () { const n = this; const r = arguments; return new Promise(((e, t) => { const a = o.apply(n, r); function i(n) { C(a, e, t, i, s, 'next', n); } function s(n) { C(a, e, t, i, s, 'throw', n); }i(void 0); })); }, function () { return s.apply(this, arguments); }) }]) && O(r.prototype, e), i && O(r, i), n; }()); const j = e(4); const N = e.n(j); function z(n, r, e, t, a, i, o) { try { var s = n[i](o); var u = s.value; } catch (n) { return void e(n); }s.done ? r(u) : Promise.resolve(u).then(t, a); } const D = (function () { let n; const r = (n = regeneratorRuntime.mark((function n() { return regeneratorRuntime.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: if (!('serviceWorker' in navigator)) { n.next = 4; break; } return n.next = 3, N.a.register(); case 3: return n.abrupt('return'); case 4: console.log('Service worker not supported in this browser'); case 5: case 'end': return n.stop(); } }), n); })), function () { const r = this; const e = arguments; return new Promise(((t, a) => { const i = n.apply(r, e); function o(n) { z(i, t, a, o, s, 'next', n); } function s(n) { z(i, t, a, o, s, 'throw', n); }o(void 0); })); }); return function () { return r.apply(this, arguments); }; }()); function I(n, r, e, t, a, i, o) { try { var s = n[i](o); var u = s.value; } catch (n) { return void e(n); }s.done ? r(u) : Promise.resolve(u).then(t, a); } function q(n) { return function () { const r = this; const e = arguments; return new Promise(((t, a) => { const i = n.apply(r, e); function o(n) { I(i, t, a, o, s, 'next', n); } function s(n) { I(i, t, a, o, s, 'throw', n); }o(void 0); })); }; } const H = {
      sendNotification(n) { const r = n.title; const e = n.options; this._checkAvailability() && (this._checkPermission() ? this._showNotification({ title: r, options: e }) : this._requestPermission()); }, _checkAvailability() { return !!('Notification' in window); }, _checkPermission() { return Notification.permission === 'granted'; }, _requestPermission() { return q(regeneratorRuntime.mark((function n() { let r; return regeneratorRuntime.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: return n.next = 2, Notification.requestPermission(); case 2: (r = n.sent) === 'denied' && console.log('Notification Denied'), r === 'default' && console.log('Permission closed'); case 5: case 'end': return n.stop(); } }), n); })))(); }, _showNotification(n) { return q(regeneratorRuntime.mark((function r() { let e; let t; return regeneratorRuntime.wrap(((r) => { for (;;) switch (r.prev = r.next) { case 0: return e = n.title, t = n.options, r.next = 3, navigator.serviceWorker.ready; case 3: r.sent.showNotification(e, t); case 5: case 'end': return r.stop(); } }), r); })))(); },
    }; const U = { init(n) { new WebSocket(n).onmessage = this._onMessageHandler; }, _onMessageHandler(n) { const r = JSON.parse(n.data); H.sendNotification({ title: ''.concat(r.title), options: { body: r.description, image: 'https://restaurant-api.dicoding.dev/images/small/'.concat(r.pictureId) } }); } }; const W = new M({ button: document.querySelector('#hamburgerButton'), drawer: document.querySelector('#navigationDrawer'), content: document.querySelector('#mainContent') }); window.addEventListener('hashchange', (() => { W.renderPage(); })), window.addEventListener('load', (() => { W.renderPage(), D(), U.init(i.WEB_SOCKET_SERVER); }));
  }]));
